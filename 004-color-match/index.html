<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Match - Stroop Challenge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            padding: 20px;
            overflow: hidden;
        }

        .container {
            text-align: center;
            max-width: 500px;
            width: 100%;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        .subtitle {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .lives {
            display: flex;
            gap: 5px;
        }

        .heart {
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .heart.lost {
            opacity: 0.2;
            transform: scale(0.8);
        }

        .timer-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .timer-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00cc6a);
            border-radius: 4px;
            transition: width 0.1s linear;
            width: 100%;
        }

        .timer-fill.warning {
            background: linear-gradient(90deg, #ffcc00, #ff9900);
        }

        .timer-fill.danger {
            background: linear-gradient(90deg, #ff4444, #cc0000);
        }

        .game-area {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px 20px;
            margin-bottom: 20px;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .color-word {
            font-size: 4rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 5px;
            text-shadow: 0 0 30px currentColor;
            animation: pulse 0.5s ease-out;
            user-select: none;
        }

        @keyframes pulse {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }

        .instruction {
            margin-top: 15px;
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            max-width: 400px;
            margin: 0 auto;
        }

        .color-btn {
            padding: 18px 25px;
            font-size: 1.1rem;
            font-weight: bold;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.15s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .color-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        .color-btn:active {
            transform: translateY(0);
        }

        .color-btn.red { background: linear-gradient(135deg, #ff4444, #cc0000); }
        .color-btn.blue { background: linear-gradient(135deg, #4488ff, #0044cc); }
        .color-btn.green { background: linear-gradient(135deg, #44ff44, #00cc00); }
        .color-btn.yellow { background: linear-gradient(135deg, #ffdd44, #ccaa00); }
        .color-btn.purple { background: linear-gradient(135deg, #aa44ff, #7700cc); }
        .color-btn.orange { background: linear-gradient(135deg, #ff8844, #cc5500); }

        .color-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Screens */
        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        .start-screen, .end-screen {
            text-align: center;
        }

        .start-btn, .restart-btn {
            margin-top: 30px;
            padding: 18px 50px;
            font-size: 1.3rem;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #1a1a2e;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .start-btn:hover, .restart-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
        }

        .final-score {
            font-size: 5rem;
            font-weight: 900;
            margin: 20px 0;
            background: linear-gradient(135deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .high-score {
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 10px;
        }

        .rules {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .rules h3 {
            margin-bottom: 10px;
            color: #00ff88;
        }

        .rules ul {
            list-style: none;
            font-size: 0.9rem;
            line-height: 1.8;
        }

        .rules li::before {
            content: "‚Üí ";
            color: #00ff88;
        }

        /* Feedback animations */
        @keyframes correct {
            0%, 100% { box-shadow: 0 0 0 0 rgba(0, 255, 136, 0); }
            50% { box-shadow: 0 0 50px 20px rgba(0, 255, 136, 0.3); }
        }

        @keyframes wrong {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-10px); }
            40%, 80% { transform: translateX(10px); }
        }

        .game-area.correct {
            animation: correct 0.4s ease;
        }

        .game-area.wrong {
            animation: wrong 0.4s ease;
            background: rgba(255, 0, 0, 0.2);
        }

        /* Responsive */
        @media (max-width: 480px) {
            h1 { font-size: 1.5rem; }
            .color-word { font-size: 2.8rem; letter-spacing: 3px; }
            .color-btn { padding: 15px 20px; font-size: 1rem; }
            .buttons { gap: 10px; }
            .game-area { padding: 25px 15px; min-height: 160px; }
        }

        @media (max-width: 360px) {
            .color-word { font-size: 2.2rem; }
            .color-btn { padding: 12px 15px; font-size: 0.9rem; letter-spacing: 1px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Start Screen -->
        <div id="start-screen" class="screen active">
            <h1>üé® Color Match</h1>
            <p class="subtitle">The Stroop Challenge</p>
            
            <div class="rules">
                <h3>How to Play</h3>
                <ul>
                    <li>A word appears in a <strong>different color</strong></li>
                    <li>Click the button matching the <strong>TEXT COLOR</strong></li>
                    <li>Ignore what the word says!</li>
                    <li>You have <strong>3 seconds</strong> per round</li>
                    <li>3 lives - don't run out!</li>
                </ul>
            </div>
            
            <button class="start-btn" onclick="startGame()">Play</button>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <h1>üé® Color Match</h1>
            
            <div class="stats">
                <div class="stat">
                    <span class="stat-label">Score</span>
                    <span class="stat-value" id="score">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Lives</span>
                    <div class="lives" id="lives">
                        <span class="heart">‚ù§Ô∏è</span>
                        <span class="heart">‚ù§Ô∏è</span>
                        <span class="heart">‚ù§Ô∏è</span>
                    </div>
                </div>
                <div class="stat">
                    <span class="stat-label">Best</span>
                    <span class="stat-value" id="high-score">0</span>
                </div>
            </div>
            
            <div class="timer-bar">
                <div class="timer-fill" id="timer-fill"></div>
            </div>
            
            <div class="game-area" id="game-area">
                <div class="color-word" id="color-word">RED</div>
                <p class="instruction">Tap the <strong>text color</strong>!</p>
            </div>
            
            <div class="buttons" id="buttons">
                <button class="color-btn red" data-color="red">Red</button>
                <button class="color-btn blue" data-color="blue">Blue</button>
                <button class="color-btn green" data-color="green">Green</button>
                <button class="color-btn yellow" data-color="yellow">Yellow</button>
                <button class="color-btn purple" data-color="purple">Purple</button>
                <button class="color-btn orange" data-color="orange">Orange</button>
            </div>
        </div>

        <!-- End Screen -->
        <div id="end-screen" class="screen">
            <h1>Game Over!</h1>
            <div class="final-score" id="final-score">0</div>
            <p class="high-score">High Score: <span id="end-high-score">0</span></p>
            <button class="restart-btn" onclick="startGame()">Play Again</button>
        </div>
    </div>

    <script>
        // Game state
        let score = 0;
        let lives = 3;
        let highScore = parseInt(localStorage.getItem('colorMatchHighScore')) || 0;
        let timerInterval = null;
        let timeLeft = 3000;
        let currentColor = null;
        let gameActive = false;

        // Color definitions
        const colors = [
            { name: 'red', css: '#ff4444' },
            { name: 'blue', css: '#4488ff' },
            { name: 'green', css: '#44ff44' },
            { name: 'yellow', css: '#ffdd44' },
            { name: 'purple', css: '#aa44ff' },
            { name: 'orange', css: '#ff8844' }
        ];

        // DOM elements
        const screens = {
            start: document.getElementById('start-screen'),
            game: document.getElementById('game-screen'),
            end: document.getElementById('end-screen')
        };
        const colorWord = document.getElementById('color-word');
        const scoreDisplay = document.getElementById('score');
        const highScoreDisplay = document.getElementById('high-score');
        const livesContainer = document.getElementById('lives');
        const timerFill = document.getElementById('timer-fill');
        const gameArea = document.getElementById('game-area');
        const buttons = document.querySelectorAll('.color-btn');

        // Initialize
        function init() {
            highScoreDisplay.textContent = highScore;
            document.getElementById('end-high-score').textContent = highScore;
            
            buttons.forEach(btn => {
                btn.addEventListener('click', () => handleGuess(btn.dataset.color));
            });
        }

        // Switch screens
        function showScreen(screenName) {
            Object.values(screens).forEach(s => s.classList.remove('active'));
            screens[screenName].classList.add('active');
        }

        // Start game
        function startGame() {
            score = 0;
            lives = 3;
            gameActive = true;
            
            scoreDisplay.textContent = '0';
            highScoreDisplay.textContent = highScore;
            updateLives();
            
            showScreen('game');
            nextRound();
        }

        // Generate new round
        function nextRound() {
            if (!gameActive) return;
            
            // Pick random word and color (ensure they're different)
            const wordIndex = Math.floor(Math.random() * colors.length);
            let colorIndex;
            do {
                colorIndex = Math.floor(Math.random() * colors.length);
            } while (colorIndex === wordIndex);
            
            const word = colors[wordIndex].name;
            currentColor = colors[colorIndex].name;
            
            // Update display
            colorWord.textContent = word.toUpperCase();
            colorWord.style.color = colors[colorIndex].css;
            
            // Trigger animation
            colorWord.style.animation = 'none';
            colorWord.offsetHeight; // Force reflow
            colorWord.style.animation = 'pulse 0.5s ease-out';
            
            // Reset and start timer
            timeLeft = 3000;
            updateTimer();
            
            if (timerInterval) clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft -= 50;
                updateTimer();
                
                if (timeLeft <= 0) {
                    handleTimeout();
                }
            }, 50);
            
            // Enable buttons
            buttons.forEach(btn => btn.disabled = false);
        }

        // Update timer bar
        function updateTimer() {
            const percent = (timeLeft / 3000) * 100;
            timerFill.style.width = percent + '%';
            
            timerFill.classList.remove('warning', 'danger');
            if (percent <= 33) {
                timerFill.classList.add('danger');
            } else if (percent <= 66) {
                timerFill.classList.add('warning');
            }
        }

        // Handle guess
        function handleGuess(guess) {
            if (!gameActive) return;
            
            clearInterval(timerInterval);
            buttons.forEach(btn => btn.disabled = true);
            
            if (guess === currentColor) {
                // Correct!
                score++;
                scoreDisplay.textContent = score;
                
                gameArea.classList.add('correct');
                setTimeout(() => gameArea.classList.remove('correct'), 400);
                
                setTimeout(nextRound, 300);
            } else {
                // Wrong!
                loseLife();
            }
        }

        // Handle timeout
        function handleTimeout() {
            if (!gameActive) return;
            
            clearInterval(timerInterval);
            buttons.forEach(btn => btn.disabled = true);
            loseLife();
        }

        // Lose a life
        function loseLife() {
            lives--;
            updateLives();
            
            gameArea.classList.add('wrong');
            setTimeout(() => gameArea.classList.remove('wrong'), 400);
            
            if (lives <= 0) {
                endGame();
            } else {
                setTimeout(nextRound, 500);
            }
        }

        // Update lives display
        function updateLives() {
            const hearts = livesContainer.querySelectorAll('.heart');
            hearts.forEach((heart, index) => {
                if (index < lives) {
                    heart.classList.remove('lost');
                } else {
                    heart.classList.add('lost');
                }
            });
        }

        // End game
        function endGame() {
            gameActive = false;
            clearInterval(timerInterval);
            
            // Update high score
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('colorMatchHighScore', highScore);
            }
            
            document.getElementById('final-score').textContent = score;
            document.getElementById('end-high-score').textContent = highScore;
            
            setTimeout(() => showScreen('end'), 500);
        }

        // Start
        init();
    </script>
</body>
</html>
